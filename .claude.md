# NPM Version Popularity

A modern, interactive web application to visualize and analyze the popularity of different versions of npm packages.

## Project Overview

This application allows users to search for npm packages and view detailed download statistics for each version. It features interactive visualizations, semver filtering, and deep linking capabilities.

## Tech Stack

- **Framework**: React 19 + Vite 7
- **Language**: TypeScript 5.9
- **UI Components**: Shadcn UI (Radix UI primitives)
- **Styling**: Tailwind CSS 4
- **Charts**: Recharts 3
- **HTTP Client**: Axios
- **Utilities**: Semver, Lodash

## Project Structure

```
src/
├── components/          # React components
│   ├── PackageResults/  # Package display components
│   │   ├── PackageHeader.tsx
│   │   ├── VersionsTable.tsx
│   │   ├── PopularityChart.tsx
│   │   ├── types.ts
│   │   └── constants.ts
│   ├── ui/             # Shadcn UI components
│   ├── AppLayout.tsx
│   ├── ErrorDisplay.tsx
│   ├── PackageSearchInput.tsx
│   ├── SearchBox.tsx
│   ├── ThemeToggle.tsx
│   └── VersionFilterInput.tsx
├── hooks/              # Custom React hooks
│   ├── usePackageSearch.ts
│   ├── usePackageSuggestions.ts
│   └── useSearchParams.ts
├── services/           # API services
│   ├── npmService.ts
│   └── npmAutocompleteService.ts
├── lib/               # Utility functions
│   └── utils.ts
├── App.tsx            # Main application component
└── main.tsx          # Application entry point
```

## Development Commands

- `npm run dev` - Start development server (http://localhost:5173)
- `npm run build` - Build for production (TypeScript check + Vite build)
- `npm run lint` - Run ESLint
- `npm run preview` - Preview production build

## Key Features

1. **Package Search**: Real-time search with autocomplete suggestions
2. **Version Popularity**: Detailed download statistics per version
3. **Visual Analytics**: Interactive pie chart showing version distribution
4. **Semver Filtering**: Filter versions using semver ranges (e.g., `^1.0.0`, `>=2.0.0`, `1.x`)
5. **Deep Linking**: URL-based state preservation for sharing
6. **Theme Support**: Light/dark/system theme support

## API Integration

The app integrates with npm registry APIs:
- Package data: `https://registry.npmjs.org/{packageName}`
- Download stats: `https://api.npmjs.org/downloads/range/{period}/{packageName}`
- Autocomplete: `https://registry.npmjs.org/-/v1/search`

## Code Conventions

- Use TypeScript for all new files
- Follow React functional component patterns with hooks
- Use Tailwind CSS for styling
- Components should be organized by feature/domain
- Keep UI components in `components/ui/` following Shadcn conventions
- Custom hooks should be in `hooks/` directory
- API calls should be isolated in `services/` directory

## State Management

The application uses React hooks for state management:
- `usePackageSearch` - Manages package data fetching and filtering
- `usePackageSuggestions` - Handles search autocomplete
- `useSearchParams` - Syncs state with URL parameters

## Important Notes

- The app uses URL parameters for deep linking (`?q=package-name&filter=semver-range`)
- All components follow the Shadcn UI pattern for consistency
- Theme state is managed via CSS classes and localStorage
- Semver filtering is applied client-side after fetching all version data
